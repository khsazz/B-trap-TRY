<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title th:text="${doctor.name}">Doctor - ABCXYZ</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="icon" type="image/png" href="custom/favicon.png" th:href="@{/resources/custom/favicon.png}" sizes="64x64" />
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css"
          th:href="@{/resources/bootstrap/css/bootstrap.min.css}">
    <!--Font Family-->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,500' rel='stylesheet' type='text/css'>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css" th:href="@{/resources/dist/css/AdminLTE.min.css}">
    <!-- DatePicker CSS -->
    <link rel="stylesheet" href="plugins/datepicker/datepicker3.css"
          th:href="@{/resources/plugins/datepicker/datepicker3.css}">
    <!-- Timepicker -->
    <link rel='stylesheet' href="plugins/timepicker/bootstrap-timepicker.min.css"
          th:href="@{/resources/plugins/timepicker/bootstrap-timepicker.min.css}"/>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="custom/style.css"
          th:href="@{/resources/custom/style.css}">
    <link rel="stylesheet" href="dist/css/skins/skin-green.min.css"
          th:href="@{/resources/dist/css/skins/skin-green.min.css}"/>

</head>
<body class="skin-green layout-top-nav" style="padding-top: 80px;">
<div class="wrapper">

    <!-- Main Header -->
    <nav class="navbar navbar-fixed-top navbarshadow" th:replace="blank :: header">
        <div class="container">
            <div class="navbar-header">
                <a href="/home" class="navbar-brand">
                    <img src="custom/logo_color.png" class="img-responsive"
                         th:src="@{/resources/custom/logo_color.png}" alt="" width="30%"/>
                </a>
            </div>
            <div class="navbar-custom-menu" style="text-align: right">
                <p style="color: #43a260">
                    <i class="fa fa-phone"></i>01980-807030, 01980-807040
                    <button class="btn btn-xs btn-success">Sign IN</button></p>
                <p style="color: #a7a8a7">
                    Are you a doctor? List your practice here
                    <button class="btn btn-sm iamadoctor-button"> <strong>I'M A DOCTOR</strong> </button></p>
            </div>
        </div>
    </nav>

    <div class="content-wrapper">
        <section class="content">
            <div class="container">
                <div class="row">&nbsp;</div>
                <!--<div class="row">&nbsp;</div>-->
                <!--<div class="row">&nbsp;</div>-->

                <div class="row">
                    <div class="col-lg-1"></div>
                    <div class="col-lg-10 search-box-shadow" style="padding: 20px;">
                        <br>
                        <div class="row">
                            <div class="info-box  doctor-panel">
                            <span class="info-box-icon image doctor-panel-image hidden-xs">
                                <img th:unless="${doctor.imageAvailable}" class="img vertical-align-top" src="dist/img/noimage.jpg" alt="User Avatar"
                                     th:src="@{/resources/dist/img/{img}.jpg(img='noimage')}">
                                <img th:if="${doctor.imageAvailable}" class="img vertical-align-top" src="dist/img/noimage.jpg" alt="User Avatar"
                                     th:src="@{/resources/profile_pictures/{img}.jpg(img=${doctor.id})}">
                            </span>
                                <div class="info-box-content">
                                    <p style="font-size: 22px;" th:utext="'<strong>'+${doctor.name}+'</strong>'">
                                        <strong>PROF. DR. FM SIDDIQI</strong>
                                    </p>
                                    <p style="font-size: 16px; margin-bottom: 0;" th:utext="${doctor.degrees}">
                                        <strong>MBBS, FRCPS, MD</strong>
                                    </p>
                                    <p style="font-size: 16px; margin-bottom: 0;" th:utext="${doctor.designation}">
                                        ASSISTANT PROFESSOR (CARDIOLOGY), DHAKA MEDICAL COLLEGE
                                    </p>
                                    <p style="font-size: 16px; margin-bottom: 0;"
                                       th:utext="'Specialized in <strong>'+${speciality.description}+'</strong>'">
                                        SPECIALITY IN <strong>CARDIOLOGY</strong>
                                    </p>
                                    <th:block th:switch="${doctor.rankValue}">
                                        <div th:case="3">
                                            <span class="star-icon full three">☆☆☆☆☆</span>
                                        </div>
                                        <div th:case="4">
                                            <span class="star-icon full four">☆☆☆☆☆</span>
                                        </div>
                                        <div th:case="5">
                                            <span class="star-icon full five">☆☆☆☆☆</span>
                                        </div>
                                    </th:block>
                                    <button type="button" class="btn btn-success btn-sm modal-button"
                                            data-toggle="modal" data-target="#bookModal">
                                        <strong> Book Now</strong>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-lg-10 col-lg-offset-1">
                                <!-- Nav tabs -->
                                <ul class="nav nav-tabs" role="tablist">
                                    <li role="presentation" class="active">
                                        <a href="#informationTab" aria-controls="informationTab"
                                           role="tab" data-toggle="tab">INFORMATION</a>
                                    </li>
                                    <li role="presentation">
                                        <a href="#mapTab" aria-controls="mapTab" role="tab" data-toggle="tab">MAP</a>
                                    </li>
                                    <li role="presentation">
                                        <a href="#feedbackTab" aria-controls="feedbackTab" role="tab" data-toggle="tab">
                                            FEEDBACK</a>
                                    </li>
                                </ul>

                                <div class="tab-content">
                                    <div role="tabpanel" class="tab-pane fade in active" id="informationTab">
                                        <br>
                                        <div class="row">
                                            <div class="col-lg-12">
                                                <p style="font-size: 16px;">
                                                    <i class="fa fa-building clr-grn size-l"></i>
                                                    <span><strong>  CHAMBER</strong></span>
                                                </p>
                                                <p style="font-size: 14px;">
                                                    <i class="fa fa-map-marker size-l"></i>
                                                    <span th:text="${hospital.name}"> Shamorita Hospital, 41/A Panthapath Road, Dhanmondi, Dhaka - 1225</span>
                                                </p>
                                                <p style="font-size: 14px;">
                                                    <i class="fa fa-calendar size-l"></i>
                                                <span th:if="${availability.sun}"
                                                      class="weekday-active">Su</span>
                                                <span th:unless="${availability.sun}"
                                                      class="weekday-inactive">Su</span>
                                                <span th:if="${availability.mon}"
                                                      class="weekday-active">M</span>
                                                <span th:unless="${availability.mon}"
                                                      class="weekday-inactive">M</span>
                                                <span th:if="${availability.tue}"
                                                      class="weekday-active">Tu</span>
                                                <span th:unless="${availability.tue}"
                                                      class="weekday-inactive">Tu</span>
                                                <span th:if="${availability.wed}"
                                                      class="weekday-active">W</span>
                                                <span th:unless="${availability.wed}"
                                                      class="weekday-inactive">W</span>
                                                <span th:if="${availability.thu}"
                                                      class="weekday-active">Th</span>
                                                <span th:unless="${availability.thu}"
                                                      class="weekday-inactive">Th</span>
                                                <span th:if="${availability.fri}"
                                                      class="weekday-active">F</span>
                                                <span th:unless="${availability.fri}"
                                                      class="weekday-inactive">F</span>
                                                <span th:if="${availability.sat}"
                                                      class="weekday-active">Sa</span>
                                                <span th:unless="${availability.sat}"
                                                      class="weekday-inactive">Sa</span>
                                                </p>
                                                <p style="font-size: 14px;">
                                                    <i class="fa fa-clock-o size-l"></i>
                                                <span th:text="${availability.start_end}"
                                                      style="color: green;"> 3.00 PM - 9.00 PM
                                                </span>
                                                </p>
                                                <p style="font-size: 14px;">
                                                    <i class="fa fa-money size-l"></i>
                                                <span th:utext="${doctor.cost}+' BDT'"
                                                      style="color: green;"> 1000 BDT
                                                </span>
                                                </p>
                                            </div>
                                        </div>
                                        <hr>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div th:if="${doctor.infos.hasEnoughSpecialization}">
                                                    <h4><strong>
                                                        <i class="fa fa-stethoscope clr-grn size-xl">
                                                        </i> SPECIALIZATION</strong></h4>
                                                    <ul class="blue-bullet">
                                                        <li th:each="spec : ${doctor.infos.specializations}">
                                                            <span th:text="${spec}">Not Available</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <hr th:if="${doctor.infos.hasEnoughSpecialization}">
                                                <div th:if="${doctor.infos.hasEnoughEducation}">
                                                    <h4><strong>
                                                        <i class="fa fa-graduation-cap clr-grn size-xl">
                                                        </i> EDUCATION</strong></h4>
                                                    <ul class="blue-bullet">
                                                        <li th:each="spec : ${doctor.infos.educations}">
                                                            <span th:text="${spec}">Not Available</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <hr th:if="${doctor.infos.hasEnoughEducation}">
                                                <div th:if="${doctor.infos.hasEnoughMembership}">
                                                    <h4><strong>
                                                        <i class="fa fa-group clr-grn size-xl">
                                                        </i> MEMBERSHIP</strong></h4>
                                                    <ul class="blue-bullet">
                                                        <li th:each="spec : ${doctor.infos.memberships}">
                                                            <span th:text="${spec}">Not Available</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <div class="col-lg-6">
                                                <div th:if="${doctor.infos.hasEnoughServices}">
                                                    <h4><strong>
                                                        <i class="fa fa-medkit clr-grn size-xl">
                                                        </i> SERVICES</strong></h4>
                                                    <ul class="blue-bullet">
                                                        <li th:each="spec : ${doctor.infos.services}">
                                                            <span th:text="${spec}">Not Available</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <hr th:if="${doctor.infos.hasEnoughServices}">
                                                <div th:if="${doctor.infos.hasEnoughExperience}">
                                                    <h4><strong>
                                                        <i class="fa fa-tags clr-grn size-xl">
                                                        </i> EXPERIENCE</strong></h4>
                                                    <ul class="blue-bullet">
                                                        <li th:each="spec : ${doctor.infos.experiences}">
                                                            <span th:text="${spec}">Not Available</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <hr th:if="${doctor.infos.hasEnoughExperience}">
                                                <div th:if="${doctor.infos.hasEnoughTrainning}">
                                                    <h4><strong>
                                                        <i class="fa fa-bookmark clr-grn size-xl">
                                                        </i> TRAININGS & CONFERENCES</strong></h4>
                                                    <ul class="blue-bullet">
                                                        <li th:each="spec : ${doctor.infos.trainnings}">
                                                            <span th:text="${spec}">Not Available</span>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="mapTab">
                                        <div class="box box-success profile-map">
                                            <div class="box-header with-border">
                                                <h3 class="box-title">Location</h3>
                                            </div>
                                            <div class="box-body">
                                                <div class="maps" id="map-container"></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="feedbackTab">
                                        No FEEDBACK Available right now</div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="col-lg-1"></div>
                </div>
            </div>
        </section>
    </div>

    <div class="modal fade" id="bookModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-body" style="padding: 0">
                    <div class="box box-success box-solid" style="border: 0">
                        <div class="box-header with-border">
                            <h3 class="box-title">
                                <strong style="text-align: center;">BOOK YOUR APPOINTMENT</strong>
                            </h3>
                        </div>

                        <div class="box-body">
                            <div class="row">
                                <div class="col-lg-4">
                                    <span class="info-box-icon image doctor-panel-image">
                                        <img th:unless="${doctor.imageAvailable}" class="img vertical-align-top" src="dist/img/noimage.jpg" alt="User Avatar"
                                             th:src="@{/resources/dist/img/{img}.jpg(img='noimage')}">
                                        <img th:if="${doctor.imageAvailable}" class="img vertical-align-top" src="dist/img/noimage.jpg" alt="User Avatar"
                                             th:src="@{/resources/profile_pictures/{img}.jpg(img=${doctor.id})}">
                                    </span>
                                </div>
                                <div class="col-lg-8">
                                    <h3 class="text-primary"
                                        th:utext=" '<strong>'+${doctor.name}+'</strong>' ">
                                    </h3>
                                    <h5 style="margin-top: -5px; margin-bottom: 4px;" th:text="${doctor.designation}"></h5>
                                    <h4 style="margin-top: 2px; margin-bottom: 8px;">
                                        <i class="fa fa-map-marker"></i><span th:text="${hospital.name}"></span>
                                    </h4>
                                    <span style="margin-top: 2px; margin-bottom: 4px;">
                                        <i class="fa fa-calendar"></i>
                                        <span th:if="${availability.sun}"
                                              class="weekday-active">Su</span>
                                        <span th:unless="${availability.sun}"
                                              class="weekday-inactive">Su</span>
                                        <span th:if="${availability.mon}"
                                              class="weekday-active">M</span>
                                        <span th:unless="${availability.mon}"
                                              class="weekday-inactive">M</span>
                                        <span th:if="${availability.tue}"
                                              class="weekday-active">Tu</span>
                                        <span th:unless="${availability.tue}"
                                              class="weekday-inactive">Tu</span>
                                        <span th:if="${availability.wed}"
                                              class="weekday-active">W</span>
                                        <span th:unless="${availability.wed}"
                                              class="weekday-inactive">W</span>
                                        <span th:if="${availability.thu}"
                                              class="weekday-active">Th</span>
                                        <span th:unless="${availability.thu}"
                                              class="weekday-inactive">Th</span>
                                        <span th:if="${availability.fri}"
                                              class="weekday-active">F</span>
                                        <span th:unless="${availability.fri}"
                                              class="weekday-inactive">F</span>
                                        <span th:if="${availability.sat}"
                                              class="weekday-active">Sa</span>
                                        <span th:unless="${availability.sat}"
                                              class="weekday-inactive">Sa</span>
                                    </span>
                                    <span class="info-box-text" style="margin-top: 5px; margin-bottom: 4px;">
                                        <i class="fa fa-clock-o"></i>
                                        <span th:text="${availability.start_end}" style="font-size: 14px; color: #3b9349">
                                            3.00 PM - 9.00 PM
                                        </span>
                                    </span>
                                </div>
                            </div>
                            <form action="/createbooking" method="post" class="form-horizontal" role="form">
                                <div class="form-group">
                                    <label class="control-label col-sm-4 color-green" for="patient_name">BOOKING NAME</label>
                                    <div class="col-sm-6">
                                        <input type="text" class="form-control border-green" placeholder="Enter your name"
                                               name="patient_name" id="patient_name" required/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4 color-green" for="patient_mobile">CONTACT NUMBER</label>
                                    <div class="col-sm-6">
                                        <input type="number" class="form-control border-green" placeholder="Mobile No"
                                               name="patient_mobile" id="patient_mobile" required/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-sm-4 color-green" for="datepickerInModal">APPOINTMENT DATE</label>
                                    <div class="col-sm-6">
                                        <div class="input-group border-green" style="z-index: 100000 !important;">
                                            <div class="input-group-addon"><i class="fa fa-calendar"></i></div>
                                            <input id="datepickerInModal" type="text" name="date"
                                                   class="form-control pull-right datepicker">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">&nbsp;</div>
                                <div class="row" align="center">
                                    <button type="submit" class="btn btn-success">BOOK NOW</button>
                                    <button type="button" class="btn btn-danger border-zero" data-dismiss="modal"
                                            style="background-color: #434243">CANCEL</button>
                                </div>
                                <input id="doctor" name="doctor" th:value="${doctor.id}" hidden/>
                                <input id="userLatInModal" name="userLat" value="" hidden/>
                                <input id="userLngInModal" name="userLng" value="" hidden/>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Footer -->
    <footer th:replace="blank :: footer" class="main-footer">
        <div class="row">
            <div class="col-lg-12 col-sm-12" style="padding-top: 20px; text-align: center">
                <a style="color: #f0f1d6" href="#">Frequently Asked Questions</a> |
                <a style="color: #f0f1d6" href="#">About DoctorKoi</a> |
                Copyright &copy; 2016 <strong>DoctorKoi</strong> All rights reserved |
                <a style="color: #f0f1d6" href="#">Privacy Policy</a> |
                <a style="color: #f0f1d6" href="#">Terms and Use</a>
            </div>
        </div>
    </footer>

</div>

<!-- REQUIRED JS SCRIPTS -->
<!-- jQuery 2.1.4 -->
<script src="plugins/jQuery/jQuery-2.1.4.min.js"
        th:src="@{/resources/plugins/jQuery/jQuery-2.1.4.min.js}"></script>
<!-- Bootstrap 3.3.5 -->
<script src="bootstrap/js/bootstrap.min.js"
        th:src="@{/resources/bootstrap/js/bootstrap.min.js}"></script>
<!-- AdminLTE App -->
<script src="dist/js/app.min.js"
        th:src="@{/resources/dist/js/app.min.js}"></script>
<!-- TimePicker -->
<script src="plugins/timepicker/bootstrap-timepicker.min.js"
        th:src="@{/resources/plugins/timepicker/bootstrap-timepicker.min.js}"></script>
<!-- Datepicker -->
<script src="plugins/datepicker/bootstrap-datepicker.js"
        th:src="@{/resources/plugins/datepicker/bootstrap-datepicker.js}"></script>

<!-- timpicker -->
<script type="text/javascript">
    $('#timepicker1').timepicker();
</script>
<!-- Datepicker -->
<script type="text/javascript">
    $(document).ready(function () {
        $(document).off('.datepicker.data-api');
        $('#datepickerInModal').datepicker({
            format: "dd/mm/yyyy",
            todayHighlight: true,
            autoclose: true,
            startDate : new Date()
        });
        $('#datepickerInModal').datepicker('update', new Date());
    });
</script>
<!-- Custom Google Map -->
<script src="custom/mymap.js"
        th:src="@{/resources/custom/mymap.js}"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?callback=mapApiLoadedCallback"></script>
<!-- geocode try -->
<script th:inline="javascript">
    function placeHospitals() {
        var foundHospital = [[${hospital}]];
        placeMarkerAtHospital(foundHospital);
        fitAllMarkers();
    }
</script>
<script>
    function setUserLocation(lat, lng){
//        console.log(lat);
        $("#userLatInModal").val(lat);
        $("#userLngInModal").val(lng);
    }
</script>
<!--Tab Activity-->
<script>
    var mapInitialized = false;
    $(document).ready(function () {
        $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
            var target = $(e.target).attr("href");
            if(target == '#mapTab') {
                if(!mapInitialized && mapApiLoaded) {
                    initProfileMap();
//                    console.log('map activated');
                    mapInitialized =true;
                }
            }
        })
    });
</script>
</body>
</html>
